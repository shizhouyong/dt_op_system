{% extends "base_layout.html" %}
{% block body %}
    <div class="row">
        <div class="col-xs-12">
            <div class="callout callout-warning">
                <h4>1.要先通过war包构建代码源,才能依赖代码源进行容器的构建</h4>
                <h4>2.代码源名称必须英文!</h4>
                <h4>3.谨慎操作删除,一点就没</h4>
                <p></p>
            </div>
        </div>
        <div class="col-xs-12">
            <div class="box box-primary">
                <div class="box-header with-border">
                    <h3 class="box-title">新建代码源-{{ environment }}</h3>
                </div>
                <div class="box-body">
                    <form role="form" action="{{ url_for('new_source') }}" method="post">
                        <input type="hidden" name="environment" value="{{ environment }}">
                        <div class="form-group">
                            <label>代码源名称:(英文!!!)</label>
                            <input class="form-control" placeholder="输入代码源名称 ..." name="source_name">
                        </div>
                        <div class="form-group">
                            <label>war</label>
                            <select class="form-control" name="war">
                                {% for war in wars %}
                                    <option value="{{ war }}">{{ war }}</option>
                                {% endfor %}
                            </select>
                        </div>
                        <div class="box-footer">
                            <button type="submit" class="btn btn-primary">生成</button>
                        </div>
                    </form>
                </div>
            </div>
        </div>
        <div class="col-xs-12">
            <div class="box box-success">
                <div class="box-header with-border">
                    <h3 class="box-title">代码源-{{ environment }}</h3>
                </div><!-- /.box-header -->
                <div class="box-body">
                    <table class="table table-bordered">
                        <tr>
                            <th>代码源名称</th>
                            <th>操作-删除</th>
                        </tr>
                        {% for source in sources %}
                            <tr>
                                <td>{{ source.Names[0][1:] }}</td>
                                <td><a href="/war_manage/delete_source/{{ source.Names[0][1:] }}/{{ environment }}">删除</a></td>
                            </tr>
                        {% endfor %}
                    </table>
                </div><!-- /.box-body -->
                <div class="box-footer clearfix">
                    <ul class="pagination pagination-sm no-margin pull-right">
                        <li><a href="#">&laquo;</a></li>
                        <li><a href="#">1</a></li>
                        <li><a href="#">2</a></li>
                        <li><a href="#">3</a></li>
                        <li><a href="#">&raquo;</a></li>
                    </ul>
                </div>
            </div><!-- /.box -->
        </div>
        <div class="col-xs-12">
            <div class="box box-success">
                <div class="box-header with-border">
                    <h3 class="box-title">war包管理-{{ environment }}</h3>
                </div><!-- /.box-header -->
                <div class="box-body">
                    <table class="table table-bordered">
                        <tr>
                            <th>包名</th>
                            <th>操作-删除war包</th>
                        </tr>
                        {% for war in wars %}
                            <tr>
                                <td>{{ war }}</td>
                                <td><a href="/war_manage/war_delete/{{ environment }}/{{ war }}">删除</a></td>
                            </tr>
                        {% endfor %}
                    </table>
                </div><!-- /.box-body -->
                <div class="box-footer clearfix">
                    <ul class="pagination pagination-sm no-margin pull-right">
                        <li><a href="#">&laquo;</a></li>
                        <li><a href="#">1</a></li>
                        <li><a href="#">2</a></li>
                        <li><a href="#">3</a></li>
                        <li><a href="#">&raquo;</a></li>
                    </ul>
                </div>
            </div><!-- /.box -->
        </div>
    </div>
{% endblock %}